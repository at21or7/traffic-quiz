<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>交通法規 模擬テスト（50問）</title>

<style>
body{
  font-family:"メイリオ", sans-serif;
  background:#eef2f5;
}
#container{
  max-width:900px;
  margin:30px auto;
  background:#fff;
  border:2px solid #003366;
  padding:25px;
}
h1{
  text-align:center;
  color:#003366;
}
button{
  padding:10px 25px;
  font-size:16px;
  margin:8px;
  cursor:pointer;
}
.correct{color:green;font-weight:bold;}
.wrong{color:red;font-weight:bold;}
</style>
</head>

<body>

<h1>村上中央自動車学校　学科問題（二輪車）</h1>
<p style="text-align:center;color:#555;">
本免試験を想定した学科模擬テストです
</p>

<div id="container"></div>

<script>
/* ===== 設定 ===== */
const PASS_LINE = 45;

/* ===== 50問 ===== */
const questions = [
{q:"二輪車は制限速度を守らなければならない。",a:true,exp:"法定速度・指定速度を必ず守ります。"},
{q:"踏切では徐行すればよい。",a:false,exp:"踏切では必ず一時停止し、安全確認を行います。"},
{q:"赤信号では停止しなければならない。",a:true,exp:"停止線で確実に停止します。"},
{q:"交差点では左右の安全確認は不要である。",a:false,exp:"交差点では必ず左右を確認します。"},
{q:"横断歩道では歩行者が優先である。",a:true,exp:"歩行者が最優先です。"},
{q:"夜間は前照灯を点灯しなくてもよい。",a:false,exp:"夜間は必ず点灯します。"},
{q:"一時停止標識では完全に停止する。",a:true,exp:"停止線で確実に止まります。"},
{q:"雨天時は制動距離が短くなる。",a:false,exp:"雨天時は制動距離が長くなります。"},
{q:"二輪車は急制動しても転倒しない。",a:false,exp:"急制動は転倒の危険があります。"},
{q:"カーブの手前では減速する。",a:true,exp:"進入前に速度を落とします。"},

{q:"ヘルメットは正しく着用しなければならない。",a:true,exp:"あごひもを確実に締めます。"},
{q:"携帯電話を操作しながら運転してよい。",a:false,exp:"ながら運転は禁止です。"},
{q:"酒気帯び運転は禁止されている。",a:true,exp:"厳しく処罰されます。"},
{q:"合図は進路変更直前に出せばよい。",a:false,exp:"進路変更の約3秒前に出します。"},
{q:"後方確認はミラーだけでよい。",a:false,exp:"必ず目視確認も行います。"},
{q:"二段階右折が必要な場合がある。",a:true,exp:"標識・排気量により必要です。"},
{q:"警音器は必要な場合のみ使用する。",a:true,exp:"むやみに使用してはいけません。"},
{q:"見通しの悪い交差点では徐行する。",a:true,exp:"徐行して安全確認をします。"},
{q:"二輪車は左折時に巻き込み確認が不要である。",a:false,exp:"後方・左側の確認が必要です。"},
{q:"歩行者がいない横断歩道は注意不要である。",a:false,exp:"歩行者の有無を必ず確認します。"},

{q:"道路標識は必ず守らなければならない。",a:true,exp:"法的効力があります。"},
{q:"路面が濡れているときは慎重に運転する。",a:true,exp:"スリップしやすくなります。"},
{q:"急な進路変更は危険である。",a:true,exp:"後続車に危険を及ぼします。"},
{q:"優先道路でも安全確認は不要である。",a:false,exp:"優先でも確認は必要です。"},
{q:"踏切内で変速してよい。",a:false,exp:"踏切内での変速は禁止です。"},
{q:"二輪車は制限速度を超えてもよい場合がある。",a:false,exp:"制限速度は必ず守ります。"},
{q:"車間距離は十分に保つ。",a:true,exp:"追突防止のためです。"},
{q:"坂道ではエンジンブレーキを活用する。",a:true,exp:"制動力を補助します。"},
{q:"見通しの悪い場所では警音器を使用できる。",a:true,exp:"危険防止のため認められています。"},
{q:"交差点での右折は常に徐行する。",a:true,exp:"安全確認が必要です。"},

{q:"二輪車も道路交通法の対象である。",a:true,exp:"すべての車両に適用されます。"},
{q:"夜間は昼間より注意が必要である。",a:true,exp:"視界が悪くなります。"},
{q:"横風が強い日は安定した運転が必要である。",a:true,exp:"ふらつきに注意します。"},
{q:"信号が青でも安全確認は不要である。",a:false,exp:"青でも左右を確認します。"},
{q:"二輪車は歩道を走行してよい。",a:false,exp:"原則として車道を走行します。"},
{q:"右折時は対向車に注意する。",a:true,exp:"直進車が優先です。"},
{q:"交差点進入前に減速する。",a:true,exp:"安全確認しやすくなります。"},
{q:"危険を感じたらすぐに停止できる準備をする。",a:true,exp:"危険回避がしやすくなります。"},
{q:"二輪車も交通ルールを守る義務がある。",a:true,exp:"例外はありません。"},
{q:"安全確認を怠ってもよい場合がある。",a:false,exp:"安全確認は常に必要です。"}
];

/* ===== 変数 ===== */
let current = 0;
let score = 0;
let wrongList = [];

/* ===== 出題 ===== */
function showQuestion(){
  const q = questions[current];
  document.getElementById("container").innerHTML = `
    <h3>第 ${current + 1} 問 / 50</h3>
    <p>${q.q}</p>
    <button onclick="answer(true)">○</button>
    <button onclick="answer(false)">×</button>
  `;
}

/* ===== 回答 ===== */
function answer(user){
  const q = questions[current];
  if(user === q.a){
    score++;
  }else{
    wrongList.push(q);
  }
  current++;
  current < 50 ? showQuestion() : showResult();
}

/* ===== 結果 ===== */
function showResult(){
  let html = `
    <h2>試験結果</h2>
    <p>正解数：${score} / 50</p>
    <p style="font-size:18px;font-weight:bold;">
      ${score >= PASS_LINE ? "🎉 合格" : "❌ 不合格"}
    </p>
  `;
  if(score < PASS_LINE){
    html += `
      <p class="wrong">不合格のため、再学習が必要です。</p>
      <button onclick="startReview()">再学習を開始する</button>
    `;
  }else{
    html += `<p class="correct">合格しました。お疲れさまでした。</p>`;
  }
  document.getElementById("container").innerHTML = html;
}

/* ===== 再学習 ===== */
let reviewIndex = 0;

function startReview(){
  reviewIndex = 0;
  showReview();
}

function showReview(){
  const q = wrongList[reviewIndex];
  document.getElementById("container").innerHTML = `
    <h3>再学習 ${reviewIndex + 1} / ${wrongList.length}</h3>
    <p>${q.q}</p>
    <button onclick="showExplain()">解説を見る</button>
  `;
}

function showExplain(){
  const q = wrongList[reviewIndex];
  let html = `<p><strong>解説</strong></p><p>${q.exp}</p>`;
  reviewIndex++;
  html += reviewIndex < wrongList.length
    ? `<button onclick="showReview()">次の問題</button>`
    : `<p class="correct">再学習が完了しました。</p>`;
  document.getElementById("container").innerHTML = html;
}

/* ===== 開始 ===== */
showQuestion();
</script>

</body>
</html>
