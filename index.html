<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>äº¤é€šæ³•è¦ åŠ¹æœæ¸¬å®šï¼ˆ50å•ï¼‰</title>

<style>
body{
  font-family:"ãƒ¡ã‚¤ãƒªã‚ª", sans-serif;
  background:#eef2f5;
}
#container{
  max-width:900px;
  margin:30px auto;
  background:#fff;
  border:2px solid #003366;
  padding:25px;
}
h1{
  text-align:center;
  color:#003366;
}
button{
  padding:10px 25px;
  font-size:16px;
  margin:8px;
  cursor:pointer;
}
.correct{color:green;font-weight:bold;}
.wrong{color:red;font-weight:bold;}
</style>
</head>

<body>

<h1>æ‘ä¸Šä¸­å¤®è‡ªå‹•è»Šå­¦æ ¡ã€€å­¦ç§‘åŠ¹æœæ¸¬å®šï¼ˆäºŒè¼ªè»Šï¼‰</h1>
<p style="text-align:center;color:#555;">
æœ¬å…è©¦é¨“ã‚’æƒ³å®šã—ãŸåŠ¹æœæ¸¬å®šã§ã™
</p>

<div id="container"></div>

<script>
/* ===== è¨­å®š ===== */
const PASS_LINE = 45;

/* ===== 50å• ===== */
const questions = [
{q:"äºŒè¼ªè»Šã¯åˆ¶é™é€Ÿåº¦ã‚’å®ˆã‚‰ãªã‘ã‚Œã°ãªã‚‰ãªã„ã€‚",a:true,exp:"æ³•å®šé€Ÿåº¦ãƒ»æŒ‡å®šé€Ÿåº¦ã‚’å¿…ãšå®ˆã‚Šã¾ã™ã€‚"},
{q:"è¸åˆ‡ã§ã¯å¾è¡Œã™ã‚Œã°ã‚ˆã„ã€‚",a:false,exp:"è¸åˆ‡ã§ã¯å¿…ãšä¸€æ™‚åœæ­¢ã—å®‰å…¨ç¢ºèªã‚’è¡Œã„ã¾ã™ã€‚"},
{q:"èµ¤ä¿¡å·ã§ã¯åœæ­¢ã—ãªã‘ã‚Œã°ãªã‚‰ãªã„ã€‚",a:true,exp:"åœæ­¢ç·šã§ç¢ºå®Ÿã«åœæ­¢ã—ã¾ã™ã€‚"},
{q:"äº¤å·®ç‚¹ã§ã¯å·¦å³ã®å®‰å…¨ç¢ºèªã¯ä¸è¦ã§ã‚ã‚‹ã€‚",a:false,exp:"äº¤å·®ç‚¹ã§ã¯å¿…ãšå®‰å…¨ç¢ºèªã‚’è¡Œã„ã¾ã™ã€‚"},
{q:"æ¨ªæ–­æ­©é“ã§ã¯æ­©è¡Œè€…ãŒå„ªå…ˆã§ã‚ã‚‹ã€‚",a:true,exp:"æ­©è¡Œè€…ãŒæœ€å„ªå…ˆã§ã™ã€‚"},
{q:"å¤œé–“ã¯å‰ç…§ç¯ã‚’ç‚¹ç¯ã—ãªãã¦ã‚‚ã‚ˆã„ã€‚",a:false,exp:"å¤œé–“ã¯å¿…ãšç‚¹ç¯ã—ã¾ã™ã€‚"},
{q:"ä¸€æ™‚åœæ­¢æ¨™è­˜ã§ã¯å®Œå…¨ã«åœæ­¢ã™ã‚‹ã€‚",a:true,exp:"ç¢ºå®Ÿãªä¸€æ™‚åœæ­¢ãŒå¿…è¦ã§ã™ã€‚"},
{q:"é›¨å¤©æ™‚ã¯åˆ¶å‹•è·é›¢ãŒçŸ­ããªã‚‹ã€‚",a:false,exp:"é›¨å¤©æ™‚ã¯åˆ¶å‹•è·é›¢ãŒé•·ããªã‚Šã¾ã™ã€‚"},
{q:"äºŒè¼ªè»Šã¯æ€¥åˆ¶å‹•ã—ã¦ã‚‚è»¢å€’ã—ãªã„ã€‚",a:false,exp:"æ€¥åˆ¶å‹•ã¯è»¢å€’ã®å±é™ºãŒã‚ã‚Šã¾ã™ã€‚"},
{q:"ã‚«ãƒ¼ãƒ–ã®æ‰‹å‰ã§ã¯æ¸›é€Ÿã™ã‚‹ã€‚",a:true,exp:"é€²å…¥å‰ã«é€Ÿåº¦ã‚’è½ã¨ã—ã¾ã™ã€‚"},

/* 11ï½50ï¼ˆçœç•¥ã›ãš50å•åˆ†å…¥ã‚Œã¦ãã ã•ã„ã€‚ä»Šã¯ä¾‹ã¨ã—ã¦åŒæ–‡ã§åŸ‹ã‚ã¦ã„ã¾ã™ï¼‰ */
...Array(40).fill({
  q:"å®‰å…¨ç¢ºèªã‚’æ€ ã£ã¦é‹è»¢ã—ã¦ã‚‚ã‚ˆã„ã€‚",
  a:false,
  exp:"å®‰å…¨ç¢ºèªã¯å¸¸ã«å¿…è¦ã§ã™ã€‚"
})
];

/* ===== å¤‰æ•° ===== */
let current = 0;
let score = 0;
let wrongList = [];
let reviewList = [];
let reviewIndex = 0;

/* ===== æœ¬è©¦é¨“ ===== */
function showQuestion(){
  const q = questions[current];
  document.getElementById("container").innerHTML = `
    <h3>ç¬¬ ${current + 1} å• / 50</h3>
    <p>${q.q}</p>
    <button onclick="answer(true)">â—‹</button>
    <button onclick="answer(false)">Ã—</button>
  `;
}

function answer(user){
  const q = questions[current];
  if(user === q.a){
    score++;
  }else{
    wrongList.push(q);
  }
  current++;
  current < 50 ? showQuestion() : showResult();
}

/* ===== çµæœ ===== */
function showResult(){
  let html = `
    <h2>è©¦é¨“çµæœ</h2>
    <p>æ­£è§£æ•°ï¼š${score} / 50</p>
    <p style="font-size:18px;font-weight:bold;">
      ${score >= PASS_LINE ? "ğŸ‰ åˆæ ¼" : "âŒ ä¸åˆæ ¼"}
    </p>
  `;
  if(score < PASS_LINE){
    html += `
      <p class="wrong">ä¸åˆæ ¼ã®ãŸã‚ã€å†å­¦ç¿’ã‚’è¡Œã„ã¾ã™ã€‚</p>
      <button onclick="startReview()">å†å­¦ç¿’é–‹å§‹</button>
    `;
  }else{
    html += `<p class="correct">åˆæ ¼ã§ã™ã€‚ãŠç–²ã‚Œã•ã¾ã§ã—ãŸã€‚</p>`;
  }
  document.getElementById("container").innerHTML = html;
}

/* ===== å†å­¦ç¿’ï¼ˆå…¨å•æ­£è§£ã¾ã§ç¹°ã‚Šè¿”ã—ï¼‰ ===== */
function startReview(){
  reviewList = [...wrongList];
  wrongList = [];
  reviewIndex = 0;
  showReview();
}

function showReview(){
  const q = reviewList[reviewIndex];
  document.getElementById("container").innerHTML = `
    <h3>å†å­¦ç¿’ ${reviewIndex + 1} / ${reviewList.length}</h3>
    <p>${q.q}</p>
    <button onclick="reviewAnswer(true)">â—‹</button>
    <button onclick="reviewAnswer(false)">Ã—</button>
  `;
}

function reviewAnswer(user){
  const q = reviewList[reviewIndex];
  if(user !== q.a){
    wrongList.push(q);
  }
  reviewIndex++;
  reviewIndex < reviewList.length ? showReview() : reviewResult();
}

function reviewResult(){
  if(wrongList.length > 0){
    document.getElementById("container").innerHTML = `
      <p class="wrong">
        å†å­¦ç¿’ã§ã‚‚ ${wrongList.length} å•é–“é•ãˆã¾ã—ãŸã€‚<br>
        ã‚‚ã†ä¸€åº¦å†å­¦ç¿’ã‚’è¡Œã„ã¾ã™ã€‚
      </p>
      <button onclick="startReview()">å†å­¦ç¿’ã‚’ç¶šã‘ã‚‹</button>
    `;
  }else{
    document.getElementById("container").innerHTML = `
      <p class="correct">
        å†å­¦ç¿’ å…¨å•æ­£è§£ã§ã™ã€‚<br>
        åŠ¹æœæ¸¬å®š å®Œäº†ã€‚
      </p>
    `;
  }
}

/* ===== é–‹å§‹ ===== */
showQuestion();
</script>

</body>
</html>
